<div>
  <h3>
    Row Grouping
    <small>
      <a href="https://github.com/swimlane/ngx-datatable/blob/master/demo/basic/row-grouping.component.ts" target="_blank">
        Source
      </a>
    </small>
  </h3>
  <ngx-datatable
    #myTable
    class='material expandable'
    [rows]="rows"
    [groupRowsBy]="'age'"
    [columnMode]="'force'"
    [scrollbarH]="true"
    [headerHeight]="50"
    [footerHeight]="50"
    [rowHeight]="40"
    [limit]="4"
    [groupExpansionDefault]="true">
    <!-- Group Header Template -->
    <ngx-datatable-group-header [rowHeight]="50" #myGroupHeader (toggle)="onDetailToggle($event)">
      <ng-template let-group="group" let-expanded="expanded" ngx-datatable-group-header-template>
        <div style="padding-left:5px;">
          <a
            href="#"
            [class.datatable-icon-right]="!expanded"
            [class.datatable-icon-down]="expanded"
            title="Expand/Collapse Group"
            (click)="toggleExpandGroup(group)">
            <b>Age: {{group.value[0].age}}</b>
          </a>                          
        </div>
      </ng-template>
    </ngx-datatable-group-header>
    <!-- Row Detail Template -->
    <ngx-datatable-row-detail [rowHeight]="100" #myDetailRow (toggle)="onDetailToggle($event)">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
        <div style="padding-left:35px;">
          <div><strong>Address</strong></div>
          <div>row detail content sample</div>
        </div>
      </ng-template>
    </ngx-datatable-row-detail>
    <!-- Row Column Template -->
    <ngx-datatable-column
      [width]="50"
      [resizeable]="false"
      [sortable]="false"
      [draggable]="false"
      [canAutoResize]="false">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
        <a
          href="javascript:void(0)"
          [class.datatable-icon-right]="!expanded"
          [class.datatable-icon-down]="expanded"
          title="Expand/Collapse Row"
          (click)="toggleExpandRow(row)">
        </a>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Name" prop="name" editable="true"></ngx-datatable-column>
    <ngx-datatable-column name="Gender" prop="gender"></ngx-datatable-column>
    <ngx-datatable-column name="Age" prop="age"></ngx-datatable-column>
    <ngx-datatable-column name="Comment" prop="comment">
      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row" 
      let-group="group" let-rowHeight="rowHeight">           
        <input autofocus
          (blur)="updateValue($event, 'comment', rowIndex)"
          type="text" 
          name="comment" 
          [value]="value"/>
      </ng-template>                
    </ngx-datatable-column>
  </ngx-datatable>
</div>


<script>
  [
    {
        "exppayyes": 1,
        "exppayno": 0,
        "exppaypending": 0,
        "source": "Funder",
        "name": "Ethel Price",
        "gender": "female",
        "company": "Johnson, Johnson and Partners, LLC CMP DDC",
        "age": 22,
        "comment": "test1",
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."
    },
    {
        "exppayyes": 0,
        "exppayno": 1,
        "exppaypending": 0,
        "source": "Calculated",
        "name": "Wilder Gonzales",
        "gender": "male",
        "company": "Geekko",
        "age": 22,
        "comment": "test2",
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."
    },
    {
        "exppayyes": 0,
        "exppayno": 0,
        "exppaypending": 1,
        "source": "Manual",
        "name": "Georgina Schultz",
        "gender": "female",
        "company": "Suretech",
        "age": 22,
        "comment": "test3",
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."
    },
    {
        "exppayyes": 0,
        "exppayno": 0,
        "exppaypending": 0,
        "source": "Manual",
        "name": "Carroll Buchanan",
        "gender": "male",
        "company": "Ecosys",
        "age": 22,
        "comment": "test4",
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."
    },    
    {
        "exppayyes": 0,
        "exppayno": 0,
        "exppaypending": 0,
        "source": "Funder",
        "name": "Claudine Neal",
        "startdate": "01/01/2017",
        "enddate": "14/01/2017",
        "gender": "female",
        "company": "Sealoud",
        "age": 55,
        "groupcomment": "group comment test 2",
        "groupstatus" : ""
    },
    {
        "name": "Beryl Rice",
        "gender": "female",
        "company": "Velity",
        "age": 67
    },    
    {
        "exppayyes": 0,
        "exppayno": 0,
        "exppaypending": 0,
        "source": "Calculated",
        "name": "Valarie Atkinson",
        "startdate": "01/01/2017",
        "enddate": "14/01/2017",        
        "gender": "female",
        "company": "Hopeli",
        "age": 55,
        "groupcomment": "group comment test 2",
        "groupstatus" : ""
    },
    {
        "name": "Schroeder Mathews",
        "gender": "male",
        "company": "Polarium",
        "age": 67
    },
    {
        "name": "Lynda Mendoza",
        "gender": "female",
        "company": "Dogspa",
        "age": 10
    },
    {
        "name": "Sarah Massey",
        "gender": "female",
        "company": "Bisba",
        "age": 10
    },
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 11
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet"
        ,
        "age": 11
    },
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 50
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet"
        ,
        "age": 50
    },
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 51
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet"
        ,
        "age": 51
    },    
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 52,
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."        
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet",
        "age": 52,
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."        
    },        
    {
        "name": "Dawson Barber",
        "gender": "male",
        "company": "Dymi",
        "age": 12,
        "groupcomment": "group comment test  with multiple lines of text. group comment test  with multiple lines of text."                
    },
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 53,
        "groupcomment": "group comment test  with multiple lines of text."
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet",
        "age": 53,
        "groupcomment": "group comment test  with multiple lines of text."        
    },        
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 54
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet"
        ,
        "age": 54
    },        
    {
        "name": "Robles Boyle",
        "gender": "male",
        "company": "Comtract",
        "age": 56
    },
    {
        "name": "Evans Hickman",
        "gender": "male",
        "company": "Parleynet",
        "age": 56
    },        
    {
        "name": "Bruce Strong",
        "gender": "male",
        "company": "Xyqag",
        "age": 12
    },        
    {
        "name": "No Group1",
        "gender": "male",
        "company": "Xyqag",
        "age": null
    },
    {
        "name": "No Group2",
        "gender": "male",
        "company": "Xyqag",
        "age": null
    },
    {
        "name": "No Group3",
        "gender": "male",
        "company": "Xyqag",
        "age": null
    },
    {
        "name": "No Group4",
        "gender": "male",
        "company": "Xyqag",
        "age": null
    }
    
]

</script>
